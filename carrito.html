
<!DOCTYPE html>

<html lang="es">


<!-- Mirrored from lengaswear.com/carrito by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 04 Aug 2020 23:16:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8">

		<!-- Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'../www.googletagmanager.com/gtm5445.html?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-TMXKLTQ');</script>
	<!-- End Google Tag Manager -->
    <!-- Hotjar Tracking Code for lengaswear.com -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1298492,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
	

	<title>Lengas | Relojes de madera artesanales</title>

	<meta name="description" content="Fabricamos piezas de tiempo artesanales, con materia prima Austral. Por cada reloj vendido, estamos plantando un √°rbol de Lenga en √°reas degradadas de la Patagonia Argentina.">		

	<meta name="robots" content="index,follow"/>

	<meta name="googlebot" content="index,follow"/>

	<!-- no scalable -->		 

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

	<!-- Fav Icon -->

	<link rel="icon" href="imgs/favicon.png" type="image/x-icon"/>

	<link rel="shortcut icon" href="imgs/favicon.png" type="image/x-icon"/>

	<!-- que link prioriza google -->

	<link href="index.html" rel="canonical">

	<!-- Redes sociales -->

    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Lengas">
    <meta property="og:title" content="Relojes de madera artesanales | Lengas" />
    <meta property="og:description" content="Fabricamos piezas de tiempo artesanales, con materia prima Austral. Por cada reloj vendido, estamos plantando un √°rbol de Lenga en la Patagonia." />
	<meta property="og:image" content="http://lengaswear.com/imgsBBDD/blackborrowDesc2.jpg">
	<meta property="og:url" content="http://lengaswear.com"/>
    <meta property="og:image:type" content="image/jpg">
    <!--<meta property="og:image:width" content="1024">-->
    <!--<meta property="og:image:height" content="1024">-->
    <!--<meta property="fb:app_id" content="">-->

	<link rel="stylesheet" type="text/css" media="(min-width: 800px)" href="css/carrito.css" />
	<link rel="stylesheet" type="text/css" media="(max-width: 799px)" href="css/carritoMobaf24.css?refresheando" />

<link href="https://fonts.googleapis.com/css?family=Montserrat:400,400i,500,500i,600,600i,700,700i,800" rel="stylesheet">

<script src="../code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="carrito.js"></script>
</head>

<body>



<canvas id="canvas" style="position: absolute; z-index: -2"></canvas>

<script>
	
//-----------Var Inits--------------
canvas = document.getElementById("canvas");
ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
cx = ctx.canvas.width/2;
cy = ctx.canvas.height/2;

let confetti = [];
const confettiCount = 100;
const gravity = 1.4;
const terminalVelocity =5;
const drag = 0.075;
const colors = [
  { front : 'red', back: 'darkred'},
  { front : 'green', back: 'darkgreen'},
  { front : 'blue', back: 'darkblue'},
  { front : 'yellow', back: 'darkyellow'},
  { front : 'orange', back: 'darkorange'},
  { front : 'pink', back: 'darkpink'},
  { front : 'purple', back: 'darkpurple'},
  { front : 'turquoise', back: 'darkturquoise'},
];

//-----------Functions--------------
resizeCanvas = () => {
	canvas.width = window.innerWidth;
	canvas.height = window.innerHeight;
	cx = ctx.canvas.width/2;
	cy = ctx.canvas.height/2;
}

randomRange = (min, max) => Math.random() * (max - min) + min

initConfetti = () => {
  for (let i = 0; i < confettiCount; i++) {
    confetti.push({
      color      : colors[Math.floor(randomRange(0, colors.length))],
      dimensions : {
        x: randomRange(10, 20),
        y: randomRange(10, 30),
      },
      position   : {
        x: randomRange(0, canvas.width),
        y: canvas.height - 1,
      },
      rotation   : randomRange(0, 2 * Math.PI),
      scale      : {
        x: 1,
        y: 1,
      },
      velocity   : {
        x: randomRange(-25, 25),
        y: randomRange(0, -50),
      },
    });
  }
}

//---------Render-----------
render = () => {  
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  
  confetti.forEach((confetto, index) => {
    let width = (confetto.dimensions.x * confetto.scale.x);
    let height = (confetto.dimensions.y * confetto.scale.y);
    
    // Move canvas to position and rotate
    ctx.translate(confetto.position.x, confetto.position.y);
    ctx.rotate(confetto.rotation);
    
    // Apply forces to velocity
    confetto.velocity.x -= confetto.velocity.x * drag;
    confetto.velocity.y = Math.min(confetto.velocity.y + gravity, terminalVelocity);
    confetto.velocity.x += Math.random() > 0.5 ? Math.random() : -Math.random();
    
    // Set position
    confetto.position.x += confetto.velocity.x;
    confetto.position.y += confetto.velocity.y;
    
    // Delete confetti when out of frame
    if (confetto.position.y >= canvas.height) confetti.splice(index, 1);

    // Loop confetto x position
    if (confetto.position.x > canvas.width) confetto.position.x = 0;
    if (confetto.position.x < 0) confetto.position.x = canvas.width;

    // Spin confetto by scaling y
    confetto.scale.y = Math.cos(confetto.position.y * 0.1);
    ctx.fillStyle = confetto.scale.y > 0 ? confetto.color.front : confetto.color.back;
     
    // Draw confetto
    ctx.fillRect(-width / 2, -height / 2, width, height);
    
    // Reset transform matrix
    ctx.setTransform(1, 0, 0, 1, 0, 0);
  });

  // Fire off another round of confetti
  // if (confetti.length <= 10) initConfetti();

  window.requestAnimationFrame(render);
}

//---------Execution--------
// initConfetti();
render();

//----------Resize----------
window.addEventListener('resize', function () {
  resizeCanvas();
});

//------------Click------------
// window.addEventListener('click', function() {
//   initConfetti();
// });

</script>
</body>

<!-- Mirrored from lengaswear.com/carrito by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 04 Aug 2020 23:16:48 GMT -->
</html>
<!-- Estilos del 10% de descuento -->
<style>

#pst{
    display: none;
    color: rgb(188, 140, 62);
    font-weight: bold;
    border-radius: 7px;
    font-size: 0.8em;
}

#ahorrando{
    font-size: 0.8em;
    background-color: #49b861;
    font-weight: bold;
    color: white;
    width: fit-content;
    padding: 5px 11px;
    border-radius: 5px;
    transform: scale(0.8) translateX(-21px);
    display: none;
}

#beneficio-especial{
    display: none;
    font-weight: bold;
    font-size: 0.8em;
}

</style>
<!-- Termina estilos del 10% de descuento -->

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TMXKLTQ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->



<header>
   <a href="index.html"> <img src="imgs/logoNegro.png" width="25%" alt=""> </a>
</header>
<script>
if ($(window).width() > 500) {$("header").load("menu.html")}
</script>


<main class="cont80x100">
    <h2>esto es lo que hay en tu carRito:</h2>
    <div style="display: flex; flex-direction: column;">
    <span id="pst">Psst... llevando 2 o mas te hacemos un 10% OFF üòâ</span>
    <span id="ahorrando"></span> 
    </div>
    

    <section>
    <div class="listaCarrito">
 
    <table>
        <!-- Se enlistas los prds -->
    </table>
    <div id="prdFooter">
        <div id="seguirComprando">
           <a href="index.html#shop"> <span>¬´</span><p> Seguir comprando</p></a>
        </div>
        <div id="cuponCont" style="display: flex; flex-direction:  column;">
            <div style="display: flex;">
            <img src="imgs/coupon3.svg" alt="" class="coupon" height="25px">
            <div>
                <input type="text" placeholder="CUPON ACA" id="cupon">
            </div>    
                <button onclick="checkCupon()">‚Üí</button>
                <input type="hidden" id="cuponstatus">
            </div>
            <div id="msgCupon" style="display: none;"></div>
        </div>
    </div>

    </div>

    <div>
        <div id="detalle">
            <h6>DETALLE FINAL</h6>
            <div>
                <ul id='prdFinal' class="detallesCompra">
                    <h6>PRODUCTOS:</h6>
                    <!-- detalles de prds -->
                    <div id="detalleCompra">
                    </div>
                </ul>
            </div>
            <div class="detallesCompra">
                <h6>ENVIO:</h6><p>GRATIS</p>
            </div>
            <div class="detallesCompra">
                <h6>TOTAL:</h6><p id="precioFinal">0</p>
                <!-- precio final -->
                <div id="beneficio-especial">+ Beneficio Especial Secreto ü§´üéâ</div>
            </div>
            <button id="finalizarCompra">FINALIZAR COMPRA</button>
        </div>
    </div>
    </section>


</main>

<div id="modal"></div>

</body>



<script>
function botonear(){
    $.ajax({
            url:'enviarMail.php?jabon=1',
            method:'POST',
            cache: false,
            data:{
                cupon:'jabon'
            },
            dataType:'text',
            success:function(data){
                console.log(data)
            }
        });
}

function checkCupon(){
    console.log('function: checkCupon()')

    //  Seleccionando el cupon del input
    var cupon = $('#cupon').val();
    console.log('cupon: ' + cupon)

    var selected = $('.productoDesc h5').html()
    console.log(selected)

    // Seleccionando el div donde van los mensajes
    var msg = $('#msgCupon'); 

    // Si esta vacio
    if(cupon == ""){
    	console.log('el cupon esta vacio');
    	msg.css('display', 'block');
    	msg.html('Tss...no tan rapido üßê');

    }else if(cupon == "üßº"){

        console.log('Beneficio especial aplicado');
        initConfetti()
        msg.css('display', 'block');
        msg.html('"Beneficio especial aplicado!"...Es lo que diriamos si estuviera vigente este jabon :/. Esta "promo" ya paso.');
        // $('#beneficio-especial').slideDown(200);
        // // Nos avisa x mail
        // botonear()

    }else if(cupon == 'jabon' || cupon =='JABON' ){
        console.log('Upa, casi');
        msg.css('display', 'block');
        msg.html('Hmm estuviste cerca!...un emoji tal vez te acepto.');
    }else{

    // Chequeando si existe
    $.ajax({
        url:'cupones/checkCupon.php',
        method:'POST',
        cache: false,
        data:{
            cupon:cupon
        },
        dataType:'text',
        success:function(data){
            console.log('data: ' + data)
            res = JSON.parse(data);

            console.log(res)

            if(res.status=='active'){
                console.log('el cupon es valido!')
                $('#cuponstatus').val('VALIDO')

                if(res.name = 'YOLOVIACINCOMIL'){
                        msg.css('display', 'block');
                        msg.html('Este cupon ya expir√≥')
                        return false
                }

                // Le avisamos al usuario
                msg.css('display', 'block');
                msg.html(res.descuento + '% APLICADO CON EXITO!')

                // Desactivando el input
                document.getElementById('cupon').disabled = true;

                // Cambiando el precio final
                var pfinal = $("#precioFinal");
                var pfinalViejo = pfinal.text();
                pfinalViejo = parseInt(pfinalViejo);

                multiplier = (100 - res.descuento) / 100

                var pfinalNuevo = pfinalViejo * multiplier;



                console.log('pfinalViejo: ' + pfinalViejo, 'pfinalNuevo: '+ pfinalNuevo)

                pfinal.html('<span class="pfinalViejo">'+pfinalViejo+'</span><span class="pfinalNuevo">$'+pfinalNuevo+'</span>');
                

            }else{
                console.log('el%20cupon%20es%20invalido%20_/index.html')
                $('#cuponstatus').val('NO VALIDO')
                msg.html('El cupon no es valido ü§∑‚Äç...')
            }
        }
    });

    }

}

function mostrarDescuento(porc){ 

    // Aplicando el descuento al resumen
    var pfinal = $("#precioFinal");
    var pfinalViejo = pfinal.text();
    pfinalViejo = parseInt(pfinalViejo);
    var pfinalNuevo = pfinalViejo - (pfinalViejo*(porc/100));
    console.log('pfinalViejo: ' + pfinalViejo, 'pfinalNuevo: '+ pfinalNuevo)
    pfinal.html('<span class="pfinalViejo">'+pfinalViejo+'</span><span class="pfinalNuevo">$'+pfinalNuevo+'</span>');

    var ahorrando = pfinalViejo - pfinalNuevo;
    var txt_ahorrando = $('#ahorrando');
    txt_ahorrando.html('Estas ahorrando $'+ahorrando);
    txt_ahorrando.slideDown(200)

}

$( document ).ready(function() {
$('#envioGratarola span').click(function(){
    $('#envioGratarola').slideUp('fast')
});

var carritoObj = localStorage.getItem('carrito')
var carritoObj = JSON.parse(carritoObj)

// Variable para codigo de 10%
var en_carrito = [];

if( Object.keys(carritoObj).length > 0){


for (var i = 0; i < Object.keys(carritoObj).length; i++){
var key = Object.keys(carritoObj)[i];
var modelo = carritoObj[key];

var cant = modelo.cantidad
var precio = modelo.precio
var precio = precio.replace("$ ", "");
var subTot = cant * precio;

// Codigo para 10%
for (let ki = 0; ki < cant; ki++) {
    var modelo_nombre = modelo.nombre[0].toUpperCase() + modelo.nombre.slice(1)
    en_carrito.push(modelo_nombre)
}

// Si tiene uno solo, le mostramos el cartel que dice "PSST"
if(en_carrito.length==1){
    $('#pst').html('Psst... llevando 2 o mas te hacemos un 10% OFF üòâ');
    $('#pst').slideDown(200);
    $('#ahorrando').slideUp();
}else{

    setTimeout(() => {
    $('#pst').slideDown(200);
    $('#pst').html('Descuento del 10% aplicado!');
    mostrarDescuento(10);
    initConfetti()
    }, 500);

}

// Termina codigo para 10%

$('.listaCarrito>table').append('<tr id="'+modelo.nombre+'"><td class="infoPrd"><div class="productoDesc"><div class="imgCont"><img src="'+modelo.foto+'" alt=""></div><h5>'+modelo.nombre+'</h5></div></td><td><div class="prdPrecio"><h6><i>$ '+modelo.precio+'</i></h6></div></td><td><div class="qtity"><img class="restarU" src="imgs/minus.svg"><h5 class="cantidadPrds">'+cant+'</h5><img class="sumarU" src="imgs/plus-button.svg"></div></td><td><div><h4 class="subtot">'+subTot+'</h4></div></td><td><div class="removeItem"><p><img src="imgs/delete.svg"></p></div></td></tr>')

$('#prdFinal>div').append('<li><p>'+modelo.nombre+'</p> <span>x'+cant+'</span></li>')

//suma los subtotales
var total = 0;
$('.subtot').each(function(){
      total += parseInt($(this).text());
      $("#precioFinal").text(total);
});
//elije si tachito o flechita de restar prd
$('.cantidadPrds').each(function(){
      if ($(this).text() == 1) {
        let padresin = $(this).parents('.qtity')
        padresin.find('.restarU').addClass('removeItem')
        padresin.find('.restarU').attr('src', 'imgs/delete.svg')
      }
});


}
} else {
    carritoVacio();
}

console.log(en_carrito);



// restar un cantidad del modelo
$( ".listaCarrito tr" ).on( "click", ".restarU", function() {
    let padresin = $(this).parents('.qtity')
    let cantidadAct = padresin.children('.cantidadPrds').text()
    let cantidadInt = parseInt(cantidadAct);
    let cantidadNueva = cantidadInt - 1
    padresin.children('.cantidadPrds').text(cantidadNueva)

    var modelo_nombre = $(this).parents('tr').attr('id')
    var carrito_objeto = JSON.parse(localStorage.getItem('carrito'))
    var modelo_objeto = carrito_objeto[modelo_nombre];
    modelo_objeto.cantidad = modelo_objeto.cantidad - 1;
    
    carrito_str = JSON.stringify(carrito_objeto)
    localStorage.setItem('carrito', carrito_str);

    if (cantidadNueva == 1) {
        padresin.find('.restarU').addClass('removeItem')
        padresin.find('.restarU').attr('src', 'imgs/delete.svg')
    }

    actualizeitor();
})
// sumar un cantidad del modelo
$( ".listaCarrito tr" ).on( "click", ".sumarU", function() {
    let padresin = $(this).parents('.qtity')
    let cantidadAct = padresin.children('.cantidadPrds').text()
    let cantidadInt = parseInt(cantidadAct);
    let cantidadNueva = cantidadInt + 1
    padresin.children('.cantidadPrds').text(cantidadNueva)

    var modelo_nombre = $(this).parents('tr').attr('id')
    var carrito_objeto = JSON.parse(localStorage.getItem('carrito'))
    var modelo_objeto = carrito_objeto[modelo_nombre];
    modelo_objeto.cantidad = modelo_objeto.cantidad + 1;
    
    carrito_str = JSON.stringify(carrito_objeto)
    localStorage.setItem('carrito', carrito_str);

    if (cantidadNueva > 1) {
        padresin.find('.restarU').addClass('restarU')
        padresin.find('.restarU').removeClass('removeItem')
        padresin.find('.restarU').attr('src', 'imgs/minus.svg')
    }

    setTimeout(() => {
    initConfetti();
	}, 500);
    actualizeitor();
})

// si cliquean en el tachito
$(".listaCarrito tr" ).on( "click", ".removeItem", function() {
    console.log('cliquearon el tachito')
    var filaEntera = $(this).parents('tr')
    filaEntera.css({'display':'none'})
    filaEntera.remove()
setTimeout(() => {
    $(' .listaCarrito tr:last-child').css({ 'box-shadow': 'none'})
}, 100);

    var modelo_nombre = $(this).parents('tr').attr('id')
    var carrito_objeto = JSON.parse(localStorage.getItem('carrito'))
    var modelo_objeto = carrito_objeto[modelo_nombre];

    var eliminoide = carrito_objeto[modelo_nombre].nombre
    delete carrito_objeto[eliminoide];
    
    carrito_str = JSON.stringify(carrito_objeto)
    localStorage.setItem('carrito', carrito_str);

    actualizeitor();
    
if( Object.keys(carrito_objeto).length == 0){
    carritoVacio();
}
})


//actualiza todos los numeros
// en la tabla de prds
function actualizeitor() {


$(".listaCarrito>table>tr").each(function(){
    var precioC = $(this).find('.prdPrecio h6').text()
    var precioC = precioC.replace("$ ", "");
    var precioC = parseInt(precioC)
    let cantidC = parseInt($(this).find('.cantidadPrds').text())
    let subtotNew = precioC * cantidC
    $(this).find(".subtot").text(subtotNew)

});

setTimeout(() => {
    //calcular valor final, sumando los subtotales
    var subtots = 0;
    $('.subtot').each(function(){
        subtots += parseInt($(this).html());
    });
    $('#precioFinal').text(subtots)
    
    
    //cambiar prds en detalle final
    

    $('#prdFinal li').remove()
    if( $(".listaCarrito>table").children().length > 0){

    $(".listaCarrito>table").children().each(function(){
        var modelo_id = $(this).attr('id')
        $('#prdFinal>div').append('<li><p>'+$('#'+ modelo_id +' .productoDesc>h5').text()+'</p> <span>x'+$('#'+ modelo_id +' .cantidadPrds').text()+'</span><li>')
        $('#prdFinal>div span').each(function(){
            if ($(this).text() == 'x0') {
                let padresin = $(this).parent('div')
                padresin.remove()
            }
        });
    });

    // for (var i = 0; i < $(".listaCarrito>table").children().length; i++){

    //     var mod = $(".listaCarrito>table").children()[i];
    //     // console.log(mod)
     
    //     $('#prdFinal>div').append('<li><p>'+$(mod+' .productoDesc>h5')+'</p> <span>x'+$(mod+' .prdPrecio>h6')+'</span><li>')
        
    // };
    
    }


}, 110);

// Codiguete para el 10%
var carritoObj = localStorage.getItem('carrito')
var carritoObj = JSON.parse(carritoObj)

// Recalibrando el "en_carrito"
en_carrito = [];

if( Object.keys(carritoObj).length > 0){


for (var i = 0; i < Object.keys(carritoObj).length; i++){
var key = Object.keys(carritoObj)[i];
var modelo = carritoObj[key];

var cant = modelo.cantidad
var precio = modelo.precio
var precio = precio.replace("$ ", "");
var subTot = cant * precio;

for (let ki = 0; ki < cant; ki++) {
    var modelo_nombre = modelo.nombre[0].toUpperCase() + modelo.nombre.slice(1)
    en_carrito.push(modelo_nombre)
}

}
}
console.log(en_carrito)
console.log('items en carrito: ' + en_carrito.length)

// Si tiene uno solo, le mostramos el cartel que dice "PSST"
if(en_carrito.length==1){
    $('#pst').html('Psst... llevando 2 o mas te hacemos un 10% OFF üòâ');
    $('#pst').slideDown(200);
    $('#ahorrando').slideUp(100);
}else{

    setTimeout(() => {
    $('#pst').html('Descuento del 10% aplicado!');
    mostrarDescuento(10);
    }, 500);

}

// Termina codiguete para el 10%

} // termina actualizeitor




// cuando no hay nada en el carrito
function carritoVacio(){
    $('#finalizarCompra').attr('disabled', true)
    $('#finalizarCompra').css({'opacity':'0.5','cursor':'auto'})
    $('.listaCarrito>table').append('<div id="vacioCont"><img src="imgs/camp.png"><h6>Parece que tu carrito est√° vac√≠o!</h6><p>Volv√© por lo que te pertenece y encontr√° lo que mas te guste.</p><p>Si ten√©s alguna inquietud no dudes en escribirnos, por WhatsApp haciendo <a href="https://api.whatsapp.com/send?phone=5491173698106&amp;text=&amp;source=&amp;data=">click ac√°</a>, o por mail a <span>hola@lengaswear.com</span></p><a href="index.html#shop">VOLVER</a></div>')
}


// detalle final
$('#finalizarCompra').click(function(){

// var detalleCompra = document.getElementById('detalleCompra')
// var detalleCompra = detalleCompra.innerText
// console.log(detalleCompra)

var carritoObj = localStorage.getItem('carrito')
var carritoObj = JSON.parse(carritoObj)

if( Object.keys(carritoObj).length > 0){


var carrito_final = [];
var total = 0;

for (var n = 0; n < Object.keys(carritoObj).length; n++){

var key = Object.keys(carritoObj)[n];
var modelo = carritoObj[key];

var cant = modelo.cantidad
var precio = modelo.precio
var precio = precio.replace("$ ", "");
var subTot = cant * precio;
total += cant * precio;

var producto;
window['producto'+n] = modelo.nombre + ' - '+modelo.precio+' - ' + modelo.cantidad
window['producto'+n] = modelo.nombre + ' - '+modelo.precio+' - ' + modelo.cantidad

//  Deje deprecada la suma de valores de abajo porque lo hace apartir del html, y si el usuario lo modifica con inspect element, puede modificar el precio que va a pagar. Lo reemplaze haciendo una suma del subTotal pero del valor de la variable en lugar del valor del texto de html
//suma los subtotales 
// var total = 0;
// $('.subtot').each(function(){
//       total += parseInt($(this).text());
//       $("#precioFinal").text(total);
// });

// for (let index = 0; index < n; index++) {
    // eval('var producto' + n + ' = "lol";');
    // console.log(eval('producto'+index))
// }

for (let ki = 0; ki < cant; ki++) {
    var modelo_nombre = modelo.nombre[0].toUpperCase() + modelo.nombre.slice(1)
    carrito_final.push(modelo_nombre)
}


}


};

if(carrito_final.length>1){
    console.log('Esta llevando mas de 1! Asi que le hacemos un descuento del 10%');
    console.log('total: ' + total + ', pero con descuento: ' + total*0.9)
    total = total * 0.9;
}


console.log(carrito_final, total)

var cuponstatus = $('#cuponstatus').val()

// Avisandole al pixel de facebook que estan llenando el checkout
var notify_checkout = window.location+"&checkout=1";
history.pushState({},"Checkout", notify_checkout);


$('#modal').load('modalCheckout.html', {cuponstatus:cuponstatus, total:total});

});



});


</script>

